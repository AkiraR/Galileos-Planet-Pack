// Authors: Nightingale, Galileo

STRATEGY_BODY_EXPAND:NEEDS[CustomBarnKit]
{
    name = MoonProgram
    protectedStrategy = true
    id = MoonProgram

    title = The $body Program
    title
    {
        Moon = The Apollo Program
    }
    desc = Now that we've proven we can get a Kerbal to orbit and back, we need to continue to break new barriers.  We have a choice of nearby bodies that we can get to.  We choose to go to $theBody, not because it is easy, but because it is hard.
    department = Crewed Missions
    icon = Strategia/icons/MunProgram
    icon
    {
        Ceti = GPP/icons/CetiProgram
	Iota = GPP/icons/IotaProgram
    }

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = -1000
    requiredReputationMax = -1000
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for $theBody
        
        minValue = 5.00
        maxValue = 5.00	
        
        AffectReasons = Progression

        includeBody = $body
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for other bodies
        
        minValue = 0.20
        maxValue = 0.20	
        
        AffectReasons = Progression

        excludeBody = $body
        excludeBody = $homeWorld
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_BodyProgram

        targetBody = $body
        synopsis = Plant a flag on $theBody.
        completedMessage = You've successfully landed the first Kerbal on $theBody!
        failureMessage = Your space program has failed to put a Kerbal on $theBody!

        advanceFunds = 100000.0
        advanceFunds
        {
            Minmus = 75000
            Aptur = 75000
            Serran = 125000
        }
        rewardReputation = 75
        rewardReputation
        {
            Minmus = 50
            Aptur = 50
            Serran = 100
        }

        rewardFunds = 25000
        rewardFunds
        {
            Minmus = 20000
            Aptur = 20000
            Serran = 30000
        }

        failureReputation = 500
        failureFunds = 50000
    }

    EFFECT
    {
        name = ReturnFromOrbitMannedRequirement
    }

    EFFECT
    {
        name = ReachedBodyMannedRequirement

        invert = true
        body = $body
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        body = $body
    }
}

STRATEGY_BODY_EXPAND:NEEDS[CustomBarnKit]
{
    name = PlanetaryProgram
    protectedStrategy = true
    id = PlanetaryProgram

    title = The $body Program
    title
    {
	Icarus = The Icarus Program
        Thalia = The Thalia Program
        Niven = The Niven Program
        Tellumo = The Tellumo Program
	Gratian = The Gratian Program
	Hox = The Hox Program
	Leto = The Leto Program
    }

    desc = The next step in our space program is to get a Kerbal onto another planet.  What better choice than $theBody?
    department = Crewed Missions
    icon = Strategia/icons/DresProgram
    icon
    {
	Icarus = GPP/icons/IcarusProgram
        Thalia = GPP/icons/ThaliaProgram
        Niven = GPP/icons/NivenProgram
        Tellumo = GPP/icons/TellumoProgram
        Gratian = GPP/icons/GratianProgram
        Hox = GPP/icons/HoxProgram
        Leto = GPP/icons/LetoProgram
    }

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = 200
    requiredReputationMax = 200
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for $theBodies
        
        minValue = 5.00
        maxValue = 5.00	
        
        AffectReasons = Progression

        includeBody = @bodies
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for other bodies
        
        minValue = 0.20
        maxValue = 0.20	
        
        AffectReasons = Progression

        excludeBody = @bodies
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_BodyProgram

        targetBody = $body
        synopsis = Plant a flag on $theBody.
        completedMessage = You've successfully landed the first Kerbal on $theBody!
        failureMessage = Your space program has failed to put a Kerbal on $theBody!

        advanceFunds = 250000.0
        advanceFunds
        {
            Moho = 350000
            Eve = 500000
            Eeloo = 500000
            Mercury = 200000
            Venus = 250000
            Pluto = 500000
            Lave = 500000
            Titanus = 750000
        }
        rewardReputation = 100
        rewardReputation
        {
            Moho = 75
            Eve = 150
            Eeloo = 150
            Mercury = 50
            Venus = 150
            Pluto = 150
            Ernus = 50
            Lave = 150
            Titanus = 200
        }

        rewardFunds = 250000
        rewardFunds
        {
            Moho = 300000
            Eve = 500000
            Eeloo = 500000
            Mercury = 300000
            Venus = 500000
            Pluto = 1000000
            Lave = 500000
            Titanus = 1000000
        }

        failureReputation = 500
        failureFunds = 1500000
    }

    EFFECT
    {
        name = MinimumFacilityLevelRequirement
        level = 2
    }

    EFFECT
    {
        name = ReturnFromSurfaceMannedRequirement
        id = MoonProgram
    }

    EFFECT
    {
        name = ReachedBodyMannedRequirement

        invert = true
        body = $body
    }

    EFFECT
    {
        name = VesselEnrouteRequirement

        invert = true
        manned = true
        body = $body
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        body = $body
    }
}

STRATEGY_BODY_EXPAND:NEEDS[CustomBarnKit]
{
    name = GasGiantProgram
    protectedStrategy = true
    id = GasGiantProgram

    title = The $body $childBodyCount Program
    title
    {

    }

    desc = It's time to prove that Kerbals have the right stuff.  The prestige of landing a Kerbal on each of $theBody's moons would be astronomical!
    department = Crewed Missions
    icon = GPP/icons/GasGiantProgram

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = 500
    requiredReputationMax = 500

    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for $theBodies
        
        minValue = 5.00
        maxValue = 5.00	
        
        AffectReasons = Progression

        includeBody = @bodies
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for other bodies
        
        minValue = 0.20
        maxValue = 0.20	
        
        AffectReasons = Progression

        excludeBody = @bodies
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_GasGiantProgram

        targetBody = $body
        synopsis = Plant flags on $childBodies.
        completedMessage = You've successfully landed the first Kerbals on $childBodies!
        failureMessage = Your space program has failed to put a Kerbal on $childBodies!

        advanceFunds = 2500000.0
        rewardReputation = 200
        rewardFunds = 1000000

        failureReputation = 500
        failureFunds = 5000000
    }

    EFFECT
    {
        name = MinimumFacilityLevelRequirement
        level = 3
    }

    EFFECT
    {
        name = ReturnFromSurfaceMannedRequirement
        id = PlanetaryProgram
    }

    EFFECT
    {
        name = ReachedBodyRequirement

        invert = true
        body = $body
    }

    EFFECT
    {
        name = VesselEnrouteRequirement

        invert = true
        body = $body
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        body = @bodies
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = AstronautTrainingProgram
    protectedStrategy = true
    title = Astronaut Training Program

    desc = Our standard training procedure is to treat newly hired astronauts as a disposable commodity to greatly reduce the cost of unscheduled disassemblies.  Still, some argue that training our astronauts before putting them on top of a top of a ton of explosives will result in a lower mission failure rate.  The cost of setting up the program will be high, nevermind the cost of actually training the astronauts.  What do you say, do we want the right stuff, or the almost-good-enough stuff?
    department = Finances
    icon = Strategia/icons/AstronautTrainingProgram

    groupTag = AstronautTrainingProgram
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 225
        2 = 475
        3 = 725
    }
    
    initialCostFunds
    {
        1 = 500000
        2 = 2000000
        3 = 5000000
    }
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = NewKerbalExperience
    }

    EFFECT
    {
        name = CurrencyOperationWithPopup
        currency = Funds
        operation = Multiply
        
        effectDescription = to hiring costs
        
        minValue
        {
            1 = 2.0
            2 = 3.0
            3 = 5.0
        }
        maxValue
        {
            1 = 2.0
            2 = 3.0
            3 = 5.0
        }
        
        AffectReasons = CrewRecruited
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = MassiveLaunches
    protectedStrategy = true
    title = Massive Scale Launches

    desc = We've found some investors who are willing to sponsor us if we're able to launch colossal structures into space in a single launch.  We'll have to employ some truly Whackjobian construction techniques to get these things into orbit.
    department = Finances
    icon = Strategia/icons/MassiveLaunches

    groupTag = MassiveLaunches
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 75
        2 = 325
        3 = 575
    }

    initialCostFunds
    {
        1 = 20000
        2 = 50000
        3 = 125000
    }

    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = OrbitWeightBonus

        minLevel = 3

        funds 
        {
            3 = 40000
        }
        mass
        {
            3 = 20
        }
    }

    EFFECT
    {
        name = OrbitWeightBonus

        minLevel = 2

        funds 
        {
            2 = 40000
            3 = 60000
        }
        reputation
        {
            3 = 25
        }
        mass
        {
            2 = 20
            3 = 75
        }
    }

    EFFECT
    {
        name = OrbitWeightBonus

        funds 
        {
            1 = 40000
            2 = 60000
            3 = 110000
        }
        reputation
        {
            2 = 25
            3 = 25
        }
        mass
        {
            1 = 20
            2 = 75
            3 = 250
        }
    }

    EFFECT
    {
        name = CurrencyOperationTextOverride
        currency = Funds
        operation = Set

        description = Facility repairs are free (sorry about that launchpad).

        minLevel = 3
        
        minValue
        {
            3 = 0
        }
        maxValue
        {
            3 = 0
        }

        AffectReasons = StructureRepair
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = SlotMachine
    protectedStrategy = true
    title = Contract Slot Machine

    desc = These agencies seem to think they're doing us a favour offering by us these ridiculous contracts.  Why should we be penalized for being choosy?  By closing our books to the public, agencies will have no idea what we're willing to accept.  There might be a little chaos in the contracts we see under this model, but if we're only choosing the best ones, then who cares?!?
    department = Finances
    icon = Strategia/icons/SlotMachine

    groupTag = SlotMachine
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 150
        2 = 400
        3 = 650
    }

    initialCostFunds = 0.0
    initialCostReputation
    {
        1 = 25.0
        2 = 75.0
        3 = 150.0
    }
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = CareerParameterOverride
        parameter = RepLossDeclined
        value = 0.0
    }

    EFFECT
    {
        name = CurrencyOperationRandomized
        currency = Funds
        currency = Science
        currency = Reputation
        operation = Multiply
        
        effectDescription = contract rewards/penalties 
        
        lowerValue = 0.50
        lowerValue = 0.25
        lowerValue = 0.0
        upperValue = 1.50
        upperValue = 2.00
        upperValue = 3.00
        
        AffectReason = ContractAdvance
        AffectReason = ContractPenalty
        AffectReason = ContractReward
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = PilotFocus
    protectedStrategy = true
    title = Pilot Focus

    desc = Clearly the most important role among our astronauts is that of the pilot.  Without a skilled pilot, nobody is going to space today (or any other day).  Shall we build our space program around our brave pilots?
    department = Operations
    icon = Strategia/icons/PilotFocus

    groupTag = PilotFocus
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 50
        2 = 300
        3 = 550
    }

    initialCostFunds
    {
        1 = 35000
        2 = 100000
        3 = 300000
    }

    initialCostScience
    {
        1 = 20
        2 = 100
        3 = 250
    }
    
    initialCostReputation = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = IncompatibleRequirement

        strategy = Engineer Focus
    }

    EFFECT
    {
        name = IncompatibleRequirement

        strategy = Scientist Focus
    }

    EFFECT
    {
        name = CurrencyOperationByContract

        currency = Funds
        currency = Science
        currency = Reputation

        contractType = SurveyContract
        contractType = TourismContract

        effectDescription = to rewards

        multiplier = 1.5
        multiplier = 2.0
        multiplier = 3.0

        AffectReason = ContractReward

        trait = Pilot
    }

    EFFECT
    {
        name = LevelBooster

        minLevel = 2
        level
        {
            2 = 1
            3 = 2
        }

        trait = Pilot
    }

    EFFECT
    {
        name = VesselValueImprover

        attribute = ISP
        minLevel = 3
        multiplier = 1.025
        trait = Pilot
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = EngineerFocus
    protectedStrategy = true
    title = Engineer Focus

    desc = Where would we be without our engineers?  They make sure everything is in order to get the other astronauts up and down safely.  Shall we build our space program around the skilled engineer?
    department = Operations
    icon = Strategia/icons/EngineerFocus

    groupTag = EngineerFocus
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 50
        2 = 300
        3 = 550
    }
    
    initialCostFunds
    {
        1 = 35000
        2 = 100000
        3 = 300000
    }
    
    initialCostScience
    {
        1 = 20
        2 = 100
        3 = 250
    }
    
    initialCostReputation = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = IncompatibleRequirement

        strategy = Pilot Focus
    }

    EFFECT
    {
        name = IncompatibleRequirement

        strategy = Scientist Focus
    }

    EFFECT
    {
        name = CurrencyOperationByContract

        currency = Funds
        currency = Science
        currency = Reputation

        contractType = StationContract

        effectDescription = to rewards

        multiplier = 1.5
        multiplier = 2.0
        multiplier = 3.0

        AffectReason = ContractReward

        trait = Engineer
    }

    EFFECT
    {
        name = LevelBooster

        minLevel = 2
        level
        {
            2 = 1
            3 = 2
        }

        trait = Engineer
    }

    EFFECT
    {
        name = VesselValueImprover

        attribute = ParachuteDrag
        minLevel = 3
        multiplier = 1.10
        trait = Engineer
    }

    EFFECT
    {
        name = VesselValueImprover

        attribute = StrutStrength
        minLevel = 3
        multiplier = 1.50
        trait = Engineer
    }

    EFFECT
    {
        name = VesselValueImprover

        attribute = ReactionWheelTorque
        minLevel = 3
        multiplier = 1.50
        trait = Engineer
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = ScientistFocus
    protectedStrategy = true
    title = Scientist Focus

    desc = The scientist is the key role that we need to focus on.  A skilled scientist knows exactly which sample to send back to maximize our science gain (we can only fit so many Mun rocks in those capsules).  Shall we build our space program around our brilliant scientists?
    department = Operations
    icon = Strategia/icons/ScientistFocus

    groupTag = ScientistFocus
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 50
        2 = 300
        3 = 550
    }
    
    initialCostFunds
    {
        1 = 35000
        2 = 100000
        3 = 300000
    }
    
    initialCostScience
    {
        1 = 20
        2 = 100
        3 = 250
    }
    
    initialCostReputation = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = IncompatibleRequirement

        strategy = Pilot Focus
    }

    EFFECT
    {
        name = IncompatibleRequirement

        strategy = Engineer Focus
    }

    EFFECT
    {
        name = CurrencyOperationByContract

        currency = Funds
        currency = Science
        currency = Reputation

        contractType = CollectScience

        effectDescription = to rewards

        multiplier = 1.5
        multiplier = 2.0
        multiplier = 3.0

        AffectReason = ContractReward

        trait = Scientist
    }

    EFFECT
    {
        name = LevelBooster

        minLevel = 2
        level
        {
            2 = 1
            3 = 2
        }

        trait = Scientist
    }

    EFFECT
    {
        name = CurrencyOperationByTrait

        minLevel = 3

        currency = Science

        effectDescription = to field work

        multiplier = 1.2

        AffectReason = VesselRecovery
        AffectReason = ScienceTransmission

        trait = Scientist
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = TechStagnation
    protectedStrategy = true
    title = Stagnated Research

    desc = There are several conservative groups on Kerbin that think we've gone too far, too fast.  We're not about to shut down the space program, but maybe slowing down our development of new technology to appease these groups will get us some goodwill and ensure that they don't burn down KSC?
    department = Public Relations
    icon = Strategia/icons/TechStagnation

    groupTag = TechStagnation
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 175
        2 = 425
        3 = 675
    }
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience
    {
        1 = 100.0
        2 = 500.0
        3 = 1000.0
    }
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = CurrencyOperationPerTech
        currency = Reputation
        
        effectDescription = to contract rewards
        
        multiplier = 0.1
        multiplier = 0.2
        multiplier = 0.3
        
        affectReason = ContractReward
    }

    EFFECT
    {
        name = CurrencyOperationWithPopup
        currency = Science
        operation = Multiply
        
        effectDescription = to research costs
        
        minValue = 2.00
        maxValue = 2.00
        
        AffectReasons = RnDTechResearch
    }
}

STRATEGY:NEEDS[CustomBarnKit]
{
    name = PublicSpectating
    protectedStrategy = true
    title = Public Spectating
    
    desc = There is nothing on Gael like a rocket launch, and KSC is one of the only places in the world with easy to reach, publicly-accessible spots to view them in person, up close. A launch is something everyone should experience at least once in their life. It benefits both parties as well. We get a bonus on contract advances and launch costs are less expensive, while spectators get to see a succesful launch. Hopefully. 
    department = Public Relations
    icon = GPP/icons/PublicSpectating
    
    groupTag = PublicSpectating
  
    minLeastDuration = 60
    maxLeastDuration = 100
    minLongestDuration = 1200
    maxLongestDuration = 1600

    requiredReputationMin = 500
    requiredReputationMax = 500
  
    initialCostFunds = 15000
    initialCostReputation = 150
  
    hasFactorSlider = False
    factorSliderSteps = 3
  
    EFFECT
    {
      name = CurrencyOperation
      currency = Funds
      operation = Multiply
	
      effectDescription = bonus on contract advances
	
      minValue = 1.10
      maxValue = 1.10
      AffectReasons = ContractAdvance
    }
  
    EFFECT
    {
      name = CurrencyOperation
      currency = Funds
      operation = Multiply
	
      effectDescription = off launch costs
	
      minValue = 0.90
      maxValue = 0.90
	
      AffectReasons = VesselRollout
  }
  
    EFFECT
    {
        name = CurrencyOperation
        currency = Reputation
	operation = Multiply

	effectDescription = to milestone gains
	
	minValue = 1.10
	maxValue = 1.10	
	
	AffectReasons = Progression
  }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = MediaCircus
    protectedStrategy = true
    title = Media Circus

    desc = To make a reputable space program, we need to ramp up the media involvement.  Cameras everywhere, coverage 6 hours a day, 426 days a years.  Of course, this could easily backfire if we have any...  accidents.
    department = Public Relations
    icon = Strategia/icons/MediaCircus

    groupTag = MediaCircus
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 125
        2 = 375
        3 = 625
    }

    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = CurrencyOperation
        currency = Funds
        operation = Add

        effectDescription = to launch costs
        
        minValue
        {
            1 = 25000
            2 = 50000
            3 = 100000
        }
        maxValue
        {
            1 = 25000
            2 = 50000
            3 = 100000
        }

        AffectReasons = VesselRollout
    }

    EFFECT
    {
        name = CurrencyOperationKerbalRecovery
        currency = Reputation

        multiplier
        {
            1 = 1
            2 = 1.5
            3 = 2
        }
    }

    EFFECT
    {
        name = CurrencyOperation
        currency = Reputation
        operation = Add

        effectDescription = on vessel loss
        
        minValue
        {
            1 = -25
            2 = -50
            3 = -75
        }
        maxValue
        {
            1 = -25
            2 = -50
            3 = -75
        }

        AffectReasons = VesselLoss
    }

    EFFECT
    {
        name = CurrencyOperationFacilityUpgrade
        currency = Reputation
        operation = Add

        minLevel = 2
        
        minValue
        {
            2 = 50
            3 = 75
        }
        maxValue
        {
            2 = 50
            3 = 75
        }
    }

    EFFECT
    {
        name = CurrencyOperationFacilityDestruction

        effectDescription = on facility destruction

        minLevel = 2
        
        currency = Reputation
        amount
        {
            2 = -50
            3 = -100
        }
    }

    EFFECT
    {
        name = MediaStar

        minLevel = 3
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = BoldlyGo
    protectedStrategy = true
    title = To Boldly Go

    desc = If we want to get the most research possible done out there, we need to explore as many new biomes as we can.  Government grants from exploration programs will ultimately help us fund further exploration and research.
    department = Science
    icon = Strategia/icons/BoldlyGo

    groupTag = BoldlyGo
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 100
        2 = 350
        3 = 600
    }
    
    initialCostFunds
    {
        1 = 15000
        2 = 50000
        3 = 400000
    }

    initialCostScience = 0.0
    initialCostReputation = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = ExplorationFundingEffect

        explorationType = Biome
        rewardFunds
        {
            1 = 15000
            2 = 25000
            3 = 50000
        }
    }

    EFFECT
    {
        name = ExplorationFundingEffect

        minLevel = 2

        explorationType = CelestialBody
        rewardFunds
        {
            2 = 100000
            3 = 200000
        }
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply

        minLevel = 3
        
        effectDescription = to milestone gains for bodies other than $homeWorld
        
        minValue = 2.00
        maxValue = 2.00	
        
        AffectReasons = Progression

        excludeBody = $homeWorld
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = ProbeFrenzy
    protectedStrategy = true
    title = Probe Frenzy

    desc = If we want to do some research, then probes are the way to go.  What we save on sending Kerbals out there can be spent on a vast fleet of autonomous probes.
    department = Science
    icon = Strategia/icons/ProbeFrenzy

    groupTag = ProbeFrenzy
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 200
        2 = 450
        3 = 700
    }
    
    initialCostFunds
    {
        1 = 10000
        2 = 50000
        3 = 100000
    }

    initialCostScience = 0.0
    initialCostReputation = 0.0
    
    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = CurrencyOperationCrewedLaunch
        currency = Funds
        operation = Multiply

        effectDescription = ignored
        
        multiplier = 2.0

        AffectReason = VesselRollout
    }

    EFFECT
    {
        name = CurrencyOperationUnmanned
        currency = Science
        operation = Multiply

        minLevel = 1
        
        effectDescription = from probe transmissions
        
        multiplier
        {
            1 = 1.04
            2 = 1.08
            3 = 1.12
        }

        AffectReason = ScienceTransmission
    }

    EFFECT
    {
        name = CurrencyOperationUnmanned
        currency = Science
        operation = Multiply

        minLevel = 2
        
        effectDescription = to probe recovery
        
        multiplier
        {
            2 = 1.12
            3 = 1.20
        }

        AffectReason = VesselRecovery
    }

    EFFECT
    {
        name = CurrencyOperationUnmanned
        currency = Funds
        operation = Multiply

        minLevel = 3
        
        effectDescription = to uncrewed milestones 
        
        multiplier
        {
            3 = 1.50
        }

        AffectReason = Progression
    }

    EFFECT
    {
        name = CurrencyOperationUnmanned
        currency = Science
        operation = Multiply

        minLevel = 3
        
        effectDescription = to uncrewed milestones 
        
        multiplier
        {
            3 = 1.20
        }

        AffectReason = Progression
    }
}

STRATEGY_LEVEL_EXPAND:NEEDS[CustomBarnKit]
{
    name = LocalScience
    protectedStrategy = true
    title = Local Science

    desc = There are so many research opportunities right in our back yard.  We should focus on local research to bootstrap our space program.  That way when we do make it further out there, we'll be sending the best technology we can.
    department = Science
    icon = GPP/icons/LocalScience

    groupTag = LocalScience
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputation
    {
        1 = 25
        2 = 275
        3 = 525
    }
    
    initialCostScience = 0.0
    initialCostReputation = 0.0

    initialCostFunds
    {
        1 = 5000
        2 = 20000
        3 = 50000
    }

    hasFactorSlider = False
    factorSliderSteps = 3

    EFFECT
    {
        name = ScienceBooster
        
        KSCScienceMultiplier
        {
            1 = 1.20
            2 = 1.50
            3 = 2.50
        }
        nonKSCScienceMultiplier
        {
            2 = 1.25
            3 = 2.00
        }
    }

    EFFECT
    {
        name = CurrencyOperation
        currency = Science
        operation = Multiply

        minLevel = 3
        
        effectDescription = costs for research
        
        minValue = 0.98
        maxValue = 0.98
        
        AffectReasons = RnDTechResearch
    }
}

STRATEGY_BODY_EXPAND:NEEDS[CustomBarnKit]
{
    name = MoonProgram
    protectedStrategy = true
    id = MoonProgram

    title = $body Probes
    desc = Why send Kerbal to other planets when we can be more effective in gathering science by sending out uncrewed probes?  Shall we send a probe to perform experiments on $theBody?
    department = Uncrewed Missions
    icon = Strategia/icons/MunProgram
    icon
    {
        Ceti = GPP/icons/CetiProgram
	Iota = GPP/icons/IotaProgram
    }

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = -1000
    requiredReputationMax = -1000
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for $theBody
        
        minValue = 5.00
        maxValue = 5.00	
        
        AffectReasons = Progression

        includeBody = $body
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for other bodies
        
        minValue = 0.20
        maxValue = 0.20	
        
        AffectReasons = Progression

        excludeBody = $body
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_BodyProbes

        targetBody = $body
        synopsis = Land probes in three different biomes on $theBody.
        completedMessage = You've successfully performed an automated exploration of $theBody!
        failureMessage = Your space program has failed to put enough probes onto $theBody!

        advanceFunds = 100000.0
        advanceFunds
        {
            Minmus = 75000
            Aptur = 75000
            Serran = 125000
        }
        rewardReputation = 75
        rewardReputation
        {
            Minmus = 50
            Aptur = 50
            Serran = 100
        }

        rewardFunds = 25000
        rewardFunds
        {
            Minmus = 20000
            Aptur = 20000
            Serran = 30000
        }

        failureReputation = 500
        failureFunds = 50000
    }

    EFFECT
    {
        name = OrbitBodyRequirement
        body = $homeWorld
    }

    EFFECT
    {
        name = OrbitBodyRequirement

        invert = true
        body = $body
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        body = $body
    }
}

STRATEGY_BODY_EXPAND:NEEDS[CustomBarnKit]
{
    name = PlanetaryProgram
    protectedStrategy = true
    id = PlanetaryProgram

    title = $body Probes
    desc = The costs of sending a Kerbal to another planet are astronomical compared to those of sending a probe that we can leave behind.  Why don't we send a probe to $theBody to gather science autonomously for us?
    department = Uncrewed Missions
    icon = Strategia/icons/MunProgram
    icon
    {
	Icarus = GPP/icons/IcarusProgram
        Thalia = GPP/icons/ThaliaProgram
        Niven = GPP/icons/NivenProgram
        Tellumo = GPP/icons/TellumoProgram
        Gratian = GPP/icons/GratianProgram
        Hox = GPP/icons/HoxProgram
        Leto = GPP/icons/LetoProgram
    }

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = 200
    requiredReputationMax = 200
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for $theBody
        
        minValue = 5.00
        maxValue = 5.00	
        
        AffectReasons = Progression

        includeBody = $body
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for other bodies
        
        minValue = 0.20
        maxValue = 0.20	
        
        AffectReasons = Progression

        excludeBody = $body
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_BodyProbes

        targetBody = $body
        synopsis = Land probes in three different biomes on $theBody.
        completedMessage = You've successfully performed an automated exploration of $theBody!
        failureMessage = Your space program has failed to put enough probes onto $theBody!

        advanceFunds = 250000.0
        advanceFunds
        {
            Moho = 350000
            Eve = 500000
            Eeloo = 500000
            Mercury = 100000
            Venus = 250000
            Pluto = 500000
            Lave = 500000
            Titanus = 750000
        }
        rewardReputation = 100
        rewardReputation
        {
            Moho = 75
            Eve = 150
            Eeloo = 150
            Mercury = 50
            Venus = 150
            Pluto = 150
            Ernus = 50
            Lave = 150
            Titanus = 200
        }

        rewardFunds = 250000
        rewardFunds
        {
            Moho = 350000
            Eve = 500000
            Eeloo = 500000
            Mercury = 200000
            Venus = 500000
            Pluto = 1000000
            Lave = 500000
            Titanus = 1000000
        }

        failureReputation = 500
        failureFunds = 1500000
    }

    EFFECT
    {
        name = MinimumFacilityLevelRequirement
        level = 2
    }

    EFFECT
    {
        name = LandedBodyRequirement
        id = MoonProgram
    }

    EFFECT
    {
        name = ReachedBodyMannedRequirement

        invert = true
        body = $body
    }

    EFFECT
    {
        name = LandedBodyRequirement 

        invert = true
        body = $body
    }

    EFFECT
    {
        name = VesselEnrouteRequirement

        invert = true
        body = $body
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        body = $body
    }
}

STRATEGY:NEEDS[CustomBarnKit]
{
    name = ImpactorProbes
    protectedStrategy = true
    title = Impactor Probes
    desc = At the dawn of time, Kerbals expanded their knowledge by smashing rocks together.  As our civilization progressed, so did the magnitude of what we smashed together.  We have reached the culmination of smashing technology and are ready to move on to smashing probes into other planets.  Think of all the science we can gather!
    department = Uncrewed Missions
    icon = Strategia/icons/ImpactorProbes

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = 400
    requiredReputationMax = 400
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_ImpactorProbes

        synopsis = Impact probes on three different celestial bodies.
        completedMessage = You've successfully smashed some probes, and made science in the process!
        failureMessage = Your space program has failed to smash enough probes!

        advanceFunds = 250000.0
        rewardReputation = 100
        rewardFunds = 250000

        failureReputation = 500
        failureFunds = 1500000
    }

    EFFECT
    {
        name = MinimumFacilityLevelRequirement
        level = 3
    }

    EFFECT
    {
        name = LandedBodyMannedRequirement
        id = MoonProgram
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        id = ImpactorProbes
    }
}

STRATEGY:NEEDS[CustomBarnKit]
{
    name = FlyByProbes
    protectedStrategy = true
    title = Planetary Flybys
    desc = One approach to maximizing the science we get from probes is to try to visit as many planets as possible.  Let's use some gravity assists and send a single probe all over the solar system.
    department = Uncrewed Missions
    icon = GPP/icons/FlyByProbes

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = 400
    requiredReputationMax = 400
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_FlyByProbes

        synopsis = Perform a flyby of three planets, and as many moons as possible.
        completedMessage = You've successfully completed the necessary flybys!
        failureMessage = Your space program has failed to perform enough flybys!

        advanceFunds = 250000.0
        rewardReputation = 100
        rewardFunds = 250000
        failureReputation = 500
        failureFunds = 1500000
    }

    EFFECT
    {
        name = MinimumFacilityLevelRequirement
        level = 3
    }

    EFFECT
    {
        name = LandedBodyMannedRequirement
        id = MoonProgram
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        id = FlyBys
    }
}

!STRATEGY:HAS[~protectedStrategy[true]]:FOR[GPP] {}
!STRATEGY_BODY_EXPAND:HAS[~protectedStrategy[true]]:FOR[GPP] {}
!STRATEGY_LEVEL_EXPAND:HAS[~protectedStrategy[true]]:FOR[GPP] {}
!STRATEGY_LEVEL_EXPAND:HAS[~protectedStrategy[true]]:FOR[GPP] {}
!CONTRACT_TYPE:HAS[~protectedStrategy[true]]:FOR[GPP] {}